# **컴포넌트 응집도**  
어떤 클래스를 어느 컴포넌트에 포함시켜야 할까? 이는 중요한 결정이므로 제대로 된 소프트웨어 엔지니어링 원칙의 도움을 받아야 한다. 안타깝게도 수년 
동안 우리는 거의 순전히 상황에 따라 임시방편적으로 결정을 내려왔다.  
  
이 장에서는 컴포넌트 응집도와 관련된 세 가지 원칙을 논의한다.  
  
- REP: 재사용/릴리스 등가 원칙(Reuse/Release Equivalence Principle)  
- CCP: 공통 폐쇄 원칙(Common Closure Principle)  
- CRP: 공통 재사용 원칙(Common Reuse Principle)  
  
# **REP: 재사용/릴리스 등가 원칙**  
- 재사용 단위는 릴리스 단위와 같다.  
  
지난 십 년은 메이븐, 라이닝언, RVM 같은 모듈 관리 도구가 우후죽순으로 등장한 시기였다. 이 같은 도구는 점점 중요해졌는데 이 기간에 재사용 가능한 
컴포넌트나 컴포넌트 라이브러리가 엄청나게 많이 만들어졌기 때문이다. 우리는 이제 소프트웨어 재사용의 시대에 살고 있다. 객체 지향 모델의 오랜 약속 중 
하나가 실현되었다.  
  
돌이켜 보면 재사용/릴리스 등가 원칙(REP)은 너무 당연해 보인다. 소프트웨어 컴포넌트가 릴리스 절차를 통해 추적 관리되지 않거나 릴리스 번호가 부여되지 않는다면 
해당 컴포넌트를 재사용하고 싶어도 할 수 없고 하지도 않을 것이다.  
  
릴리스 번호가 없다면 재사용 컴포넌트들이 서로 호환되는지 보증할 방법이 전혀 없다. 하지만 이 단순한 이유 때문만은 아니다. 이보다는 새로운 버전이 
언제 출시되고 무엇이 변헀는지를 소프트웨어 개발자들이 알아야 하기 때문이다.  
  
새로운 릴리스가 나온다는 소식을 접하면 개발자는 새 릴리스의 변경 사항을 살펴보고 기존 버전을 계속 쓸지 여부를 결정하곤 한다. 따라서 릴리스 절차에는 
적절한공지화 함께 릴리스 문서 작성도 포함되어야 한다. 그래야 개발자가 충분한 정보를 바탕으로 새 릴리스를 통합할지, 한다면 언제 할지를 결정할 수 있다.  
  
이 원칙을 소프트웨어 설계와 아키텍처 관점에서 보면 단일 컴포넌트는 응집성이 높은 클래스와 모듈들로 구성되어야 함을 뜻한다. 단순히 뒤죽박죽 임의로 
선택된 클래스와 모듈로 구성되어서는 안 된다. 컴포넌트를 구성하는 모든 모듈은 서로 공유하는 중요한 테마나 목적이 있어야 한다.  
  
이 사실은 물론 너무 당연하다. 하지만 이 논의를 그다지 당연해 보이지 않는 색다른 시각으로 바라볼 수도 있다. 하나의 컴포넌트로 묶인 클래스와 모듈은 반드시 함께 
릴리수할 수 있어야 한다. 하나의 컴포넌트로 묶은 클래스와 모듈은 버전 번호가 같아야 하며 동일한 릴리스로 추적 관리되고 동일한 릴리스 문서에 포함되어야 
한다는 사실은 컴포넌트 제작자 입장이나 사용자 입장에서도 이치에 맞는 얘기다.  
  
하지만 이 조언은 약하다. 무언가가 "이치에 맞다"라고 말하는 일은 그저 허공에 손을 흔들면서 권위 있는 척하는 것에 불과하다. 이 조언만으로는 클래스와 모듈을 
단일 컴포넌트로 묶는 방법을 제대로 설명하기 힘들기에 이 조언이 약하다고 하는 것이다. 그렇더라도 이 원칙 자체는 중요하다. 이 원칙을 어기면 쉽게 발견할 
수 있기 때문이다. 즉 이 원칙을 어기면 '이치에 맞지'않게 된다. 만약 당신이 만든 컴포넌트가 REP를 위배하면 컴포넌트 사용자가 알게 되고 당신의 아키텍트로서의 
능력을 높게 평하지 않을 것이다.  
  
이 원칙의 약점은 다음에 다룰 두 원칙이 지닌 강점을 통해 충분히 보완할수 있다. 실제로 CCP와 CRP는 REP를 엄격하게 하지만 제약을 가하는 측면에서 정의한다.  
  
