# **업무 규칙**  
애플리케이션을 업무 규칙과 플러그인으로 구분하려면 업무 규칙이 실제로 무엇인지를 잘 이해해야만 한다. 업무 규칙에는 여러 가지가 있다.  
  
엄밀하게 말하면 업무 규칙은 사업적으로 수익을 얻거나 비용을 줄일 수 있는 규칙 또는 절차다. 더 엄밀하게 말하면 컴퓨터상으로 구현했는지와 상관없이 
업무 규칙은 사업적으로 수익을 얻거나 비용을 줄일 수 있어야 한다. 심지어 사람이 수동으로 직접 수행하더라도 마찬가지다.  
  
대출에 N%의 이자를 부과한다는 사실은 은행이 돈을 버는 업무 규칙이다. 이러한 사실은 컴퓨터 프로그램으로 이자를 계산하든 또는 직원이 주판을 튕겨 
계산하든 하등의 관계가 없다.  
  
이러한 규칙을 핵심 업무 규칙(Critical Business Rule)이라고 부를 것이다. 왜냐하면 이들 규칙은 사업 자체에 핵심적이며 규칙을 자동화하는 시스템이 
없더라도 업무 규칙은 그대로 존재하기 떄문이다.  
  
핵심 업무 규칙은 보통 데이터를 요구한다. 예를 들어 대출에는 대출 잔액, 이자율, 지급 일정이 필요하다.  
  
우리는 이러한 데이터를 핵심 업무 데이터(Critical Business Data)라고 부르겠다. 심지어 이러한 데이터는 시스템으로 자동화되지 않은 경우에도 
존재하는 그런 데이터다.  
  
핵심 규칙과 핵심 데이터는 본질적으로 결합되어 있기 때문에 객체로 만들 좋은 후보가 된다. 우리는 이러한 유형의 객체를 엔티티(Entity)라고 하겠다.  
  
# **엔티티**  
엔티니는 컴퓨터 시스템 내부의 객체로서, 핵심 업무 데이터를 기반으로 동작하는 일련의 조그만 핵심 업무 규칙을 구체화한다. 엔티티 객체는 핵심 업무 데이터를 
직접 포함하거나 핵심 업무 데이터에 매우 쉽게 접근할 수 있다. 엔티티의 인터페이스는 핵심 업무 데이터를 기반으로 동작하는 핵심 업무 규칙을 구현한 
함수들로 구성된다.  
  
![img.png](image/img.png)  
  
예를 들어 위 그림은 대출을 뜻하는 Loan 엔티티가 UML 클래스로 어떻게 표현되는지 보여준다. Loan 엔티티는 세 가지의 핵심 업무 데이터를 포함하며 
데이터와 관련된 세 가지 핵심 업무 규칙을 인터페이스로 제공한다.  
  
우리는 이러한 종류의 클래스를 생성할 때 업무에서 핵심적인 개념을 구현하는 소프트웨어는 한데 모으고 구축 중인 자동화 시스템의 나머지 모든 고려사항과 
분리시킨다. 이 클래스는 업무의 대표자로서 독립적으로 존재한다. 이 클래스는 데이터베이스, 사용자 인터페이스, 서드파티 프레임워크에 대한 고려사항들로 
인해 오염되어서는 절대 안 된다. 이 클래스는 어떤 시스템에서도 업무를 수행할 수 있으며 시스템의 표현 형식이나 데이터 저장 방식, 그리고 해당 시스템에서 
컴퓨터가 배치되는 방식과도 무관하다. 엔티티는 순전히 업무에 대한 것이며 이외의 것은 없다.  
  
엔티티를 클래스라고 불러서 우려하는 독자가 있을 것이다. 걱정 말라. 엔티티를 만드는 데 꼭 객체 지향 언어를 사용할 필요는 없다. 유일한 요구조건은 
핵심 업무 데이터와 핵심 업무 규칙을 하나로 묶어서 별도의 소프트웨어 모듈로 만들어야 한다는 것이다.